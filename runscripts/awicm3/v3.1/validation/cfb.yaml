general:
    user: !ENV ${USER}
    setup_name: "awicm3"
    version: "v3.1"
    account: "hhb19"
    compute_time: "00:55:00"
    initial_date: "1990-01-01"
    final_date: "1990-01-04"
    base_dir: "/p/scratch/chhb20/${user}/runtime/${general.setup_name}-${general.version}/"
    nday: 1
    nmonth: 0
    nyear: 0
    install_esm_tools_branch: awi-cm3.1_testruns
    
awicm3:
    postprocessing: false
    model_dir: "/p/project/chhb19/${user}/model_codes/${general.setup_name}-${general.version}/"
    pool_dir: "/p/project/chhb19/jstreffi/input/"

fesom:
    resolution: "DART"
    pool_dir: "/p/project/chhb19/jstreffi/input/fesom2/"
    mesh_dir: "/p/project/chhb19/jstreffi/input/fesom2/dart/"
    restart_rate: 1
    restart_unit: "d"
    restart_first: 1
    lresume: true
    ini_parent_exp_id: "D00"
    ini_parent_date: "2049-12-31"
    ini_parent_dir: "/p/project/chhb19/streffing1/input/fesom2/restart/DART/"
    choose_general.run_number:
        1:
            restart_in_sources:
                par_oce_restart: /p/project/chhb19/streffing1/input/fesom2/restart/DART/fesom.2049.oce.restart/*.nc
                par_ice_restart: /p/project/chhb19/streffing1/input/fesom2/restart/DART/fesom.2049.ice.restart/*.nc
    namelist_changes:
        namelist.config:
            machine:
                n_levels: 2
                n_part: [80, 72]
        namelist.oce:
            oce_dyn:
                redi: ".false."
                Fer_GM: ".false."
            oce_tra:
                tra_adv_ph: 0.0
                gamma1_tra: 0.0
                gamma2_tra: 0.0
        namelist.ice:
            ice_therm:
                albsn: 0.81
                albsnm: 0.77
                albi: 0.78
                albim: 0.70
    namelist_dir: "/p/project/chhb19/streffing1/esm_tools/namelists/fesom2/2.0/awicm3/DART/"
    time_step: 240
    nproc: 4320

oifs:
    resolution: "TCO319"
    levels: "L137"
    prepifs_expid: a0iw
    input_expid: awi3
    wam: true
    lresume: false
    time_step: 900
    nproc: 900
    omp_num_threads: 2
    add_namelist_changes:
        fort.4:
            NAEPHY:
                LECURR: true
            NAERAD:
                NSOLARSPECTRUM: "1"
                NCMIPFIXYR: "1850"
                
rnfmap:
    input_sources:
        runoff_maps: ${input_dir}/runoff_maps${runoff_maps_name}_new.nc
                
oasis3mct:
    lresume: false # Set to false to generate the rst files for first leg
    time_step: 3600
    use_lucia: true
    coupling_target_fields:
        rstos.nc:
            - 'A_SST:A_Ice_frac:A_Snow_thickness:A_Ice_temp:A_Ice_albedo <--gauswgt_i-- sst_feom:sie_feom:snt_feom:ist_feom:sia_feom'
            - 'A_CurX:A_CurY <--gauswgt_i-- u_feom:v_feom'
    add_restart_in_sources:
        rmp: ${input_dir}/${fesom.nproc}/rmp_*.nc
        rstas.nc: ${input_dir}/${fesom.nproc}/rstas_uv.nc
        rstos.nc: ${input_dir}/${fesom.nproc}/rstos_uv.nc
    

